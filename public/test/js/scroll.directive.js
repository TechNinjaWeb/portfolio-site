app.directive("scroll",function($window){return function(scope,element,attrs){function log(scope,element,attrs,message){console.log(["======================"]);console.log(["======================"]);console.log(["ELEMENT:"+attrs.id+"\n At Offset: "+this.pageYOffset+"px",element[0]]);console.log(["======================"]);console.log(["Message",message])
console.log(["======================"]);console.log(["Attribute",attrs]);console.log(["======================"]);console.log(["======================"]);}angular.element($window).bind("scroll",function(){var pageYOffset=this.pageYOffset,windowBottom=this.pageYOffset+this.innerHeight-0,windowHeight=this.innerHeight,windowWidth=this.innerWidth,elemName=attrs.id,elemHeight=element.height(),elemWidth=element.width(),message,animations,elem;animations=attrs.scroll.split(' ');elem={name:elemName||attrs.$$element[0].className,height:elemHeight,width:elemWidth,top:element[0].offsetTop,bottom:element[0].offsetHeight,animateIn:animations[0],animateOut:animations[1]};if(windowBottom>elem.top&&pageYOffset<elem.top+elem.height){attrs.inView=true;}else if(pageYOffset<elem.top&&pageYOffset>elem.top+elem.height){attrs.inView=false;}else{}if(attrs.inView&&attrs.scroll.indexOf(animations.map(function(val){return val;}))<=-1){element.addClass(elem.animateIn);}else if(attrs.inView&&attrs.scroll.indexOf(animations.map(function(val){return val;}))>=0){}else if(!attrs.inView&&attrs.scroll.indexOf(animations.map(function(val){return val;}))>=0){element.removeClass(elem.animateIn)&&element.removeClass(elem.animateOut)&&element.removeClass(elem.animateOut);console.log("attempted to remove element class")}else{}scope.$apply();});};});